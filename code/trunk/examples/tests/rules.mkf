

SNET_EXTRA_LDFLAGS += $(BOXES)

.PHONY: clean all lpel

all: $(TARGET)

%.c: %.h

%.o: %.c
	gcc -c $< -o $@ $(INCLUDES)

all: $(TARGET)

$(TARGET):  $(TARGET).snet $(BOXES) $(SNETLIBS)
	snetc -g $(SNETCFLAGS) $< -o $@

lpel: $(TARGET).lpel

$(TARGET).lpel: $(TARGET).snet $(BOXES) $(SNETLIBS)
	snetc -g $(SNETCFLAGS) $< -o $@ -threading lpel

clean:
	rm -f $(TARGET) $(TARGET).lpel $(TARGET).[och] $(BOXES) mon_*.log *tasks.map
